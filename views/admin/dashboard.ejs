<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <link rel="stylesheet" href="/css/style.css">
    <!-- Bootstrap CSS -->

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">


      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+2Y8zvnuHZ4Jy5L8FyiJSqFkhxCgqYj5Ji9odgJ3wTW3j4n" crossorigin="anonymous">
     
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-Djri0YmB+oVOZmGxNPL5XF00ssCk2FQWpIdLDVUiE1FHT4jsM68VX6klHcF6+xBx" crossorigin="anonymous"></script>
    </head>
    


<body>
    <div class="header">
        <h2 class="logo">Logo</h2>
        <nav class="navigation">
            <a href="#">Ana Sayfa</a>
            <a href="#">Hakkında</a>
            <a href="/quiz">Kısa Sınav</a>
            <a href="#">Contact</a>
            <a href="/logout" class="btnLogout">Çıkış Yap</a>
        </nav>
    </div>
    <div class="wrapper_3"> 
      <div class="container">
          <div class="row">
            <div class="col-sm-6">
              <h3>Soru Ekle</h3>
              <form action="/dashboard" method="post">
                <div class="row mb-3">
                  <div class="col-lg-4">
                      <label class="col-form-label">Ders:</label>
                      <select class="form-select" aria-label="Default select example" name="subject" id="subject" required>
                          <option value="select" selected>Seç</option>
                          <option value="matematik">Matematik</option>
                          <option value="turkce">Türkçe</option>
                          <option value="kimya">Kimya</option>
                          <option value="biyoloji">Biyoloji</option>
                      </select>
                  </div>
                  <div class="col-lg-4">
                      <label class="col-form-label">Zorluk:</label>
                      <select class="form-select" aria-label="Default select example" name="difficulty" id="difficulty" required>
                          <option value="select" selected>Seç</option>
                          <option value="Kolay">Kolay</option>
                          <option value="Orta">Orta</option>
                          <option value="Zor">Zor</option>
                      </select>
                  </div>
              </div>
              
    
    
                <div class="row mb-3">
                    <label for="description" class="col-sm-2 col-form-label"> Soruyu giriniz:</label>
                    <div class="col-sm-7">
                      <textarea class="form-control" style="height: 100px" name="description" id="description"
                        rows="4" required></textarea>
                    </div>
                  </div>
                  <hr>
                  <label for="option1">Seçenekleri giriniz:</label>
                  <div class="row mb-3">
                    <label for="option1" class="col-sm-2 col-form-label">A şıkkı:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control" name="options[]" id="option1" required>
                    </div>
                  </div>
    
                  <div class="row mb-3">
                    <label for="option2" class="col-sm-2 col-form-label">B şıkkı:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control" name="options[]" id="option2" required>
                    </div>
                  </div>
    
                  <div class="row mb-3">
                    <label for="option3" class="col-sm-2 col-form-label">C şıkkı:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control" name="options[]" id="option3" required>
                    </div>
                  </div>
    
                  <div class="row mb-3">
                    <label for="option4" class="col-sm-2 col-form-label">D şıkkı:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control" name="options[]" id="option4" required>
                    </div>
                  </div>
    
                  <div class="row mb-3">
                    <label for="option5" class="col-sm-2 col-form-label">E şıkkı:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control" name="options[]" id="option5" required>
                    </div>
                  </div>
                  <label for="correctOption">Doğru şıkkı seçin (1-5 arası bir sayı girin):</label><br>
                  <input type="number" id="correctOption" name="correctOption" required min="1" max="5"><br>
                  <br>
    
                <div class="row mb-3">
                  <div class="col-sm-10">
                    <button type="submit" class="btn btn-primary rounded-pill" value="Submit">Soru Ekle</button>
                  </div>
                </div>
    
              </form> 
          </div>
              <div class="col-lg-6">
                  <h2>Kaydedilen Sorular</h2>
                  <div id="accordion">
                    <% const itemsPerPage = 5; // Her sayfada gösterilecek öğe sayısı %>
                    <% for (let index = 0; index < questions.length; index++) { %>
                      <div class="card <%= index >= itemsPerPage ? 'd-none' : '' %>" data-page="<%= Math.ceil((index + 1) / itemsPerPage) %>">
                        <div class="card-header" id="heading<%= index %>">
                          <h5 class="mb-0">
                            <button class="btn btn-link" data-toggle="collapse" data-target="#collapse<%= index %>" aria-expanded="true" aria-controls="collapse<%= index %>">
                              Soru #<%= index + 1 %>: <%= questions[index]._id %> - <%= questions[index].subject %>
                            </button>
                          </h5>
                        </div>
                        <div id="collapse<%= index %>" class="collapse" aria-labelledby="heading<%= index %>" data-parent="#accordion">
                          <div class="card-body">
                            <p><strong>Ders:</strong> <%= questions[index].subject %></p>
                            <p><strong>Zorluk:</strong> <%= questions[index].difficulty %></p>
                            <p><strong>Soru:</strong> <%= questions[index].description %></p>
                            <p><strong>Seçenekler:</strong></p>
                            <ul>
                              <% questions[index].options.forEach((option) => { %>
                                <li><%= option %></li>
                              <% }); %>
                            </ul>
                            <p><strong>Doğru Seçenek:</strong> <%= questions[index].correctOption %></p>
                            <form action="/admin/delete-question/<%= questions[index]._id %>" method="POST" style="display: inline;">
                              <button type="submit" class="btn btn-danger rounded-pill">Sil</button>
                            </form>
                            <a href="/admin/edit-question/<%= questions[index]._id %>" class="btn btn-success rounded-pill">Düzenle</a>
                          </div>
                        </div>
                      </div>
                    <% } %>
                  </div>
    
                  <!-- Sayfalama düğmeleri -->
                  <div class="col-lg-6">
                      <ul class="pagination">
                          <% const pageCount = Math.ceil(questions.length / itemsPerPage); %>
                          <% for (let i = 1; i <= pageCount; i++) { %>
                              <li class="page-item">
                                  <button class="page-link" onclick="showPage(<%= i %>)"><%= i %></button>
                              </li>
                          <% } %>
                      </ul>
                  </div>
              </div>
          </div>
      </div>
    </div>
    
            
        
    </div>
<!-- JavaScript kodu -->
<script>
  function showPage(pageNumber) {
    const itemsPerPage = 5;
    const cards = document.querySelectorAll('.card');

    cards.forEach(card => {
      const page = parseInt(card.getAttribute('data-page'));
      if (page === pageNumber) {
        card.classList.remove('d-none');
      } else {
        card.classList.add('d-none');
      }
    });
  }
</script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
        type="module"></script>
    <script src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
        nomodule></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>

</html>